@include(top.htm)

<div id="headline">Statistics</div>

<div id="contentcontainer">Getting the statistics from the server...</div>

<script>

	var request = new XMLHttpRequest();
	request.open("POST", "/items", false);
	request.setRequestHeader("Content-Type", "application/json");

	request.onreadystatechange = function() {
		if (request.readyState == 4 && request.status == 200) {

			var data = JSON.parse(request.responseText);
			var lostItems = data.lostItems;
			var foundItems = data.foundItems;
			var out = "";

			out += "<div>" + (lostItems.length + foundItems.length) + " items have been registered in total.</div>";
			out += "<div>" + lostItems.length + " items have been registered as lost.</div>";
			out += "<div>" + foundItems.length + " items have been registered as found.</div>";

			document.getElementById("contentcontainer").innerHTML = out;
		}
	}

	request.send("{\"id\": \"*\"}");

</script>

@include(bottom.htm)
